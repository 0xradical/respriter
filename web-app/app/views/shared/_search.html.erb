<% @sprites_url = sprites_url({
  tags: RootTag.all.map(&:id),
  icons: [
    "facebook-circle",
    "linkedin-circle",
    "instagram-circle",
    "twitter-circle",
    "reddit-circle",
    "arrow-down",
    "audio",
    "subtitle",
    "certificate",
    "building",
    "id-badge",
    "velocimeter",
    "level",
    "clock",
    "close",
    "play",
    "featured-badge",
    "video-recorder-unavailable",
    "question",
    "avatar"
  ],
  brand: "*",
  "country-flags": country_flags.values,
  providers: "*"
}) %>

<%= content_for :sprites do %>
  <% cache cache_key_for(@sprites_url) do %>
    <%= URI.open(@sprites_url).read.html_safe %>
  <% end %>
<% end %>

<%= content_for :stylesheet_bundles do %>
  [ 'search-page' ]
<% end %>

<%= content_for :javascript_bundles do %>
   [ 'search-page', 'sharing' ]
<% end %>

<%# gambi temporaria %>
<script async>
  window.CoursePricing = {
    i18n: {
      messages: {
        "dictionary": <%= t("dictionary").slice(:free_trial, :pricing, :subscription_period).to_json.html_safe %>,
        "datetime": <%= t("datetime").slice(:adjectives).to_json.html_safe %>
      }
    }
  }
</script>

<%= render_vue_component "SearchPage", {
  propsData: {
    locale: I18n.locale,
    tag: @tag,
    provider: @provider&.name
  },
  locale: I18n.locale,
  state: {
    data: @courses[:data],
    meta: @courses[:meta]
  }
} %>
