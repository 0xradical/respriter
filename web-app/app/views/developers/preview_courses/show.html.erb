<script type='text/javascript'>
  window.env_context = {
    devise: {
      sign_in: "<%= new_user_account_session_path %>",
      sign_up: "<%= new_user_account_registration_path %>",
      signed_in: <%= current_user_account.present? %>
    }
  }
</script>

<%= content_for :sprites do %>
  <%= sprites({ brand: "*", "country-flags": "*", icons: "*", providers: @preview_course.provider.slug }) %>
<% end %>

<%= content_for :stylesheets do %>
  <%= stylesheet_bundles_with_chunks_tag 'course-page' %>
<% end %>

<%= content_for :javascript do %>
  <%= elements_javascript_include_tag 'vars' %>
  <%= javascript_bundles_with_chunks_tag 'course-page' %>
<% end %>

<%= render_vue_component "CoursePage", {
  propsData: {
    locale: I18n.locale,
    course: @preview_course.as_indexed_json
  },
  locale: I18n.locale,
  state: {
    data: @preview_course.as_indexed_json,
    meta: {
      single: true
    }
  }
} %>
