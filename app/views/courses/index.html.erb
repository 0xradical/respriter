<script type='text/javascript'>
  window.env_context = { params: { category: "<%= params[:category] %>" } }
</script>

<script id='vue-search-app-props' type='x-vue-props'>
  {
    "containerClass": "l-container mx-Pb(60px)",
    "showCategoriesFilter": <%= params[:category].present? %>,
    "locale": "<%= I18n.locale %>"
  }
</script>

<%= content_for :javascript do %>
  <script src="<%= web_component_path('vueSearchApp.js') %>" type='text/javascript'></script>
  <link rel="stylesheet" media="screen" href="<%= web_component_path('vueSearchApp.css') %>">
<% end %>

<%= content_for :body_html_attributes do %>
  id='results' class='mx-Bc(lighter-gray)'
<% end %>

<% if params[:category].present? %>
  <% category = params[:category].gsub("-","_") %>
  <div class='mx-Bc(white)' style='border-top: 1px solid #ccc;'>
    <div class='l-container mx-Pt(10px) mx-Pb(10px)'>

      <div class='l-grid-2-3'>
        <div class='centerize'>
          <div>
            <h1 class='' style='line-height:1em;font-size:calc(1em + 2vw)'><%= t("categories.#{category}")%></h1>
            <p class='mx-D(n)@phone'>
              <%= t("pages.courses_index.html.#{category}_text")%>
            </p>
          </div>
        </div>
      </div>

      <div class='l-grid-1-3'>
        <div class='centerize'>
          <%= image_pack_tag("svg/#{params[:category]}_art.svg", class: 'c-art--reponsive-orientation') %>
        </div>
      </div>

    </div>
  </div>
<% end %>

<div data-vue-search-app
     data-vue-search-app-translations='<%= YAML::load_file(Rails.root.join('config', 'locales', "#{I18n.locale}.yml" )).to_json %>'
  data-vue-search-app-props='vue-search-app-props'></div>
