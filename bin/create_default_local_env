#!/usr/bin/env sh

SCRIPT_PATH="$( cd "$(dirname "$0")" >/dev/null 2>&1 ; pwd -P )"

case $1 in
base.env)
  app_name=`$SCRIPT_PATH/remote_alias web-app-prd`
  eval `heroku config -s --app $app_name`
  cat << EOF > $2
# # Thumbor
# # Uncomment this if you want to use production thumbor instead of development
# # Using production's thumbor speeds up a lot development on Docker for Mac
# THUMBOR_HOST=$THUMBOR_HOST
# THUMBOR_SECURITY_KEY=$THUMBOR_SECURITY_KEY

# # Path for Bundler
# # Uncomment this if you want to use gems installed by yourself
# BUNDLE_PATH=/home/developer/bundle

# # Video Service
# # Uncomment this if you want to use production Video Service instead of development
# VIDEO_SERVICE_HOST=$VIDEO_SERVICE_HOST
# VIDEO_SERVICE_KEY=$VIDEO_SERVICE_KEY

# AWS CloudFront Signer
AWS_KEY_PAIR_ID=$AWS_KEY_PAIR_ID
AWS_PRIVATE_KEY=`echo $AWS_PRIVATE_KEY | sed "s/\\n/\n/g"`

# Affiliate Programs
# RAKUTEN_MARKETING_USERNAME=$RAKUTEN_MARKETING_USERNAME
# RAKUTEN_MARKETING_PASSWORD=$RAKUTEN_MARKETING_PASSWORD
# RAKUTEN_MARKETING_SID=$RAKUTEN_MARKETING_SID
# RAKUTEN_MARKETING_SCOPE=$RAKUTEN_MARKETING_SCOPE
# RAKUTEN_TOKEN_REQUEST_AUTHORIZATION=$RAKUTEN_TOKEN_REQUEST_AUTHORIZATION
# IMPACT_RADIUS_ACCOUNT_SID=$IMPACT_RADIUS_ACCOUNT_SID
# IMPACT_RADIUS_AUTH_TOKEN=$IMPACT_RADIUS_AUTH_TOKEN
# AWIN_API_TOKEN=$AWIN_API_TOKEN
# AWIN_PUBLISHER_ID=$AWIN_PUBLISHER_ID
# SHARE_A_SALE_API_TOKEN=$SHARE_A_SALE_API_TOKEN
# SHARE_A_SALE_API_SECRET=$SHARE_A_SALE_API_SECRET
# SHARE_A_SALE_AFFILIATE_ID=$SHARE_A_SALE_AFFILIATE_ID
# CJ_ACCESS_TOKEN=$CJ_ACCESS_TOKEN
# CJ_REQUESTOR_CID=$CJ_REQUESTOR_CID

# Oauth
FACEBOOK_KEY=$FACEBOOK_KEY
FACEBOOK_SECRET=$FACEBOOK_SECRET
LINKEDIN_KEY=$LINKEDIN_KEY
LINKEDIN_SECRET=$LINKEDIN_SECRET

# urlbox.io
URL_BOX_API_KEY=$URL_BOX_API_KEY

# Github Personal Access Token
GITHUB_ACCESS_TOKEN=$GITHUB_ACCESS_TOKEN

# Respriter Service
# RESPRITER_URL=http://respriter.clspt:8080
EOF
  echo "Created local env file $2 with envs from production"
  exit 0
  ;;
video.env)
  app_name=`$SCRIPT_PATH/remote_alias video-prd`
  eval `heroku config -s --app $app_name`
  cat << EOF > $2
SKILLSHARE_SECRET_KEY=$SKILLSHARE_SECRET_KEY

# Udemy Affiliate API Key
UDEMY_API_PASSWORD=$UDEMY_API_PASSWORD
UDEMY_API_USER=$UDEMY_API_USER
EOF
  echo "Created local env file $2 with envs from production"
  exit 0
  ;;
user.env)
  app_name=`$SCRIPT_PATH/remote_alias user-prd`
  eval `heroku config -s --app $app_name`
  cat << EOF > $2
# Github Personal Access Token
GITHUB_ACCESS_TOKEN=$GITHUB_ACCESS_TOKEN
EOF
  echo "Created local env file $2 with envs from production"
  exit 0
  ;;
developer.env)
  app_name=`$SCRIPT_PATH/remote_alias developer-prd`
  eval `heroku config -s --app $app_name`
  cat << EOF > $2
# Github Personal Access Token
GITHUB_ACCESS_TOKEN=$GITHUB_ACCESS_TOKEN
EOF
  echo "Created local env file $2 with envs from production"
  exit 0
  ;;
napoleon.env)
  app_name=`$SCRIPT_PATH/remote_alias napoleon-prd`
  eval `heroku config -s --app $app_name`
  cat << EOF > $2

# # Anonymizer Proxy
# PROXY_HOST=$PROXY_HOST
# PROXY_USER=$PROXY_USER
# PROXY_PASS=$PROXY_PASS

# Udemy Affiliate API
UDEMY_CLIENT_ID=$UDEMY_CLIENT_ID
UDEMY_SECRET=$UDEMY_SECRET
EOF
  echo "Created local env file $2 with envs from production"
  exit 0
  ;;
*)
  touch $2
  echo "Created empty local env file $2"
  ;;
esac
